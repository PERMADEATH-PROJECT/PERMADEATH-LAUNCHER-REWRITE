<div class="dashboard-config-wrapper" *ngIf="tauri.options">
  <h1 class="config-title">
    <lucide-icon [img]="Settings"></lucide-icon>
    Launcher Settings
  </h1>
  <form class="config-grid" (ngSubmit)="saveConfig()">
    <!-- General launcher section -->
    <section class="config-section">
      <div class="config-section__header">
        <lucide-icon [img]="Settings"></lucide-icon>
        General
      </div>
      <div class="config-row">
        <label class="config-label">
          Auto-launch
          <div class="config-inputs">
            <span class="config-desc">Launch the game automatically on startup</span>
            <input type="checkbox" class="switch-input" [(ngModel)]="tauri.options.init_on_start" name="init_on_start" id="auto_init" />
            <span class="switch"></span>
          </div>
        </label>
      </div>
      <div class="config-row">
        <label class="config-label">
          Show debug console
          <div class="config-inputs">
            <span class="config-desc">When the game opens, show the console</span>
            <input type="checkbox" class="switch-input" [(ngModel)]="tauri.options.debug_console" name="debug_console" id="debug_console" />
            <span class="switch"></span>
          </div>
        </label>
      </div>
    </section>

    <!-- Game options section -->
    <section class="config-section">
      <div class="config-section__header config-section__header--yellow">
        <lucide-icon [img]="Gamepad2"></lucide-icon>
        Game
      </div>
      <div class="config-row">
        <label class="config-label">
          Game directory
          <div class="config-inputs">
            <div class="input-group">
              <input type="text" class="input-text" [value]="tauri.options.game_dir || '%APPDATA%/.Permadeath'" readonly />
              <button class="btn btn--light" type="button" (click)="changeGameDir()">Change</button>
            </div>
          </div>
        </label>
      </div>
      <div class="config-row">
        <label class="config-label">
          Automatic backup
          <div class="config-inputs">
            <span class="config-desc">Configuration backup</span>
            <input type="checkbox" class="switch-input" [(ngModel)]="tauri.options.automatic_backup" name="automatic_backup" id="automatic_backup" />
            <span class="switch"></span>
          </div>
        </label>
      </div>
    </section>

    <div class="config-footer">
      <button class="btn btn--light" type="button" (click)="resetConfig()">Reset</button>
      <button class="btn btn--red" type="submit">Save Changes</button>
    </div>
  </form>
</div>